PYTHON = @PYTHON@
SWIG = @SWIG@
CC = @CC@
CFLAGS = @CFLAGS@ @PKG_CFLAGS@ -I../..
LDFLAGS = @LDFLAGS@ @PKG_LIBS@

all: build

build: ctrlproxy_wrap.c
	LDFLAGS="$(LDFLAGS)" CFLAGS="$(CFLAGS)" $(PYTHON) setup.py build

install:
	$(PYTHON) setup.py install

clean:
	rm -f *_wrap.c
	$(PYTHON) setup.py clean

%_wrap.c: %.i
	$(SWIG) -python $<
